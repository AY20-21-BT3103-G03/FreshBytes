<template>
  <div id="userDet">
    <h1 class="title is-5">Your User Details</h1>
    <div v-if="!isEdit">
      <user-details-list
        v-bind:userDetails="userDetails"
        v-bind:isCustomer="isCustomer"
      ></user-details-list>
      <b-button v-on:click="toggleForm">Update Details</b-button>
    </div>
    <div v-if="isEdit">
      <user-details-form
        v-bind:userDetails="userDetails"
        v-bind:isCustomer="isCustomer"
        v-bind:userId="userId"
      ></user-details-form>
      <b-button v-on:click="toggleForm">Cancel Changes</b-button>
    </div>
  </div>
</template>

<script>
import UserDetailsList from "../components/UserDetailsList.vue";
import UserDetailsForm from "../components/UserDetailsForm.vue";
export default {
  data() {
    return {
      isEdit: false,
    };
  },
  props: {
    userDetails: Object,
    isCustomer: Boolean,
    userId: String,
  },
  computed: {
    userData: function () {
      return this.$store.getters.getUserData;
    },
  },
  methods: {
    toggleForm: function () {
      this.isEdit = !this.isEdit;
    },
  },
  components: {
    UserDetailsList,
    UserDetailsForm,
  },
};
</script>

<style scoped>
#userDet {
  border: green solid 2px;
  text-align: left;
  padding: 10px;
}

button {
  margin: 20px;
  display: block;
}
</style>
